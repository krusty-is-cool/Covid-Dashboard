<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Covid-19 Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- iOS Support -->
    <link rel="apple-touch-icon" sizes="180x180" href="/Covid-Dashboard/favicon/apple-touch-icon.png"><!--/Covid-Dashboard/favicon/apple-touch-icon.png-->
    <meta name="apple-mobile-web-app-status-bar" content="#343a40">
    <!-- Favicon Support -->
    <link rel="icon" type="image/png" sizes="32x32" href="/Covid-Dashboard/favicon/favicon-32x32.png"><!--/Covid-Dashboard/favicon/favicon-32x32.png-->
    <link rel="icon" type="image/png" sizes="16x16" href="/Covid-Dashboard/favicon/favicon-16x16.png"><!--/Covid-Dashboard/favicon/favicon-16x16.png-->
    <!-- PWA Support -->
    <link rel="manifest" href="/Covid-Dashboard/site.webmanifest"><!--/Covid-Dashboard/site.webmanifest-->
    <meta name="theme-color" content="#343a40">
  </head>
  <!-- Navbar -->
  <body>
    <div class="container-fluid px-0">
      <div class="sticky-top">
        <div class="collapse" id="navbarToggleExternalContent">
          <div class="bg-dark p-4">
            <div class="container-sm">
              <h5 class="text-white h4">About</h5>
              <span class="text-muted">Created by <a href="https://github.com/krusty-is-cool">krusty-is-cool</a> &#x1F60E and supported by <a href="https://github.com/raymas">raymas</a> contribution &#x1F64F.</span><br>
              <span class="text-muted">This web app offers access to three major datasets of COVID-19 pandemic in countries worldwide. <br>The app is installable for a standalone use and does not use cookies &#x1F36A. Enjoy &#x1F609</span><br>
              <span class="text-muted">Dataset references: </span><br>
              <span class="text-muted">&#x1F449	<a href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide">European Centre for Disease Prevention and Control</a>.</span><br>
              <span class="text-muted">&#x1F449	<a href="https://covidtracker.bsg.ox.ac.uk/about-api">Oxford University Blavatnik School of Government</a>.</span><br>
              <span class="text-muted">&#x1F449	<a href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data">Johns Hopkins University CSSE</a>.</span><br>
              <span class="text-muted">Enhanced Data &#x26A1 references: </span><br>
              <span class="text-muted">&#x1F449	France <a href="https://www.data.gouv.fr/fr/datasets/indicateurs-de-suivi-de-lepidemie-de-covid-19/">data.gouv.fr</a></span>
            </div>
          </div>
        </div>
        <nav class="navbar navbar-dark bg-dark p-2" id="navbar">
          <div class="container">
            <h3 class="navbar-brand" style="color:white">&#x1F637 Covid-19 Dashboard</h3>
            <span class="navbar-text" id="mode"></span>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </nav>
        <div class="progress" style="height: 3px;">
          <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="progressBar"></div>
        </div>
      </div>
      <!-- Settings -->
      <main class="mt-4">
        <div class="container" id="settings">
          <div class="row justify-content-between no-gutter mb-4">
            <div class="col-auto align-self-center">
              <h5>Dataset selection: </h5>
            </div>
            <div class="col-auto ml-auto">
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-dark  active" id="dataset1" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                   Loading...
                </label>
                <label class="btn btn-dark" id = "dataset2" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                   Loading...
                </label>
                <label class="btn btn-dark" id = "dataset3" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                   Loading...
                </label>
              </div>
            </div>
            
          </div>
          <div class="row justify-content-between no-gutter">
            <div class="col-auto mb-2">
              <div class="input-group flex-nowrap">
                <div class="input-group-prepend">
                  <span class="input-group-text">Select a country</span>
                </div>
                <form id="selectCountry">
                  <select class="form-control" name="country" id="country" >
                    <optgroup id="defaultCountry" label="Default">
                      <option id="France" value="France" selected>France &#x26A1</option>
                    </optgroup>
                    <optgroup id="countryList" label="All Countries">          
                    </optgroup>
                  </select>
                </form>
              </div>
            </div>
            <div class="col-auto mb-2">
              <button type="button" class="btn btn-dark" id="refresh">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-repeat" fill="white" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"/>
                  <path fill-rule="evenodd" d="M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"/>
                </svg>
                Refresh Data
              </button>
            </div>
            <div class="col-auto">
              <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-dark active">
                  <input type="radio" name="dataPlotting" id="cases-button" checked>Cases
                </label>
                <label class="btn btn-dark">
                  <input type="radio" name="dataPlotting" id="deaths-button">Deaths
                </label>

              </div>
            </div>
          </div>
        </div>
        <!-- Numbers -->
        <div class="container mt-4" id="numbers">
          <div class="progress" style="height: 5px;">
            <div class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="statsBarCases"></div>
            <div class="progress-bar bg-success" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="statsBarRecovered"></div>
            <div class="progress-bar bg-danger" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="statsBarDeaths"></div>
          </div>
          <div class="row justify-content-between no-gutter mb-3">
            <div class="col-auto align-self-center">
              <small class="text-warning font-weight-bold">Active cases (7 days)</small>
            </div>
            <div class="col-auto align-self-center">
              <small class="text-success font-weight-bold">Recovered</small>
            </div>
            <div class="col-auto align-self-center">
              <small class="text-danger font-weight-bold">Deaths</small>
            </div>
          </div>
          <div class="card-deck">
            <div class="card border-dark mb-3 text-center">
              <h5 class="card-header" id="nbDailyHeader">Daily New Cases</h5>
              <div class="card-body">
                <h5 class="card-title" id="nbDaily">-</h5>
                <p class="card-text"><small class="text-muted" id="date1">lastly reported on -</small></p>
              </div>
            </div>
            <div class="card border-dark mb-3 text-center">
              <h5 class="card-header" id="nbCumHeader">Cumulative Number of Cases</h5>
              <div class="card-body">
                <h5 class="card-title" id="nbCum">-</h5>
                <p class="card-text"><small class="text-muted" id="date2">lastly reported on -</small></p>
              </div>
            </div>
          </div>
          <div class="card border-dark text-center" id="enhancedData">
            <h5 class="card-header" id="nbCumHeader">Enhanced Data &#x26A1</h5>
            <div class="card-body">
              <div class="row justify-content-center no-gutter">
                <div class="col-auto align-self-center mb-3">
                  <h5 id="incidenceRate">-</h5>
                  <div>
                    Incidence rate
                    <a href="#">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-question-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-toggle="modal" data-target="#incidenceRateModal">
                        <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg>
                    </a>
                  </div>
                </div> 
                <div class="col-auto align-self-center mb-3">
                  <h5 id="R0">-</h5>
                  <div>
                    R0
                    <a href="#">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-question-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-toggle="modal" data-target="#R0Modal">
                        <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg>
                    </a>
                  </div>
                </div>
                <div class="col-auto align-self-center mb-3">
                  <h5 id="ruOccupationRate">- %</h5>
                  <div title="Resuscitation unites occupation rate">
                    RU occupation rate
                    <a href="#">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-question-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-toggle="modal" data-target="#ruOccupationRateModal">
                        <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg>
                    </a>
                  </div>
                </div>
                <div class="col-auto align-self-center mb-3">
                  <h5 id="positivityRate">- %</h5>
                  <div>
                    Tests positivity rate
                    <a href="#">
                      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-question-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-toggle="modal" data-target="#positivityRateModal">
                        <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
              <p class="card-text"><small class="text-muted" id="date3">lastly reported on -</small></p>
            </div>
          </div>
          <!-- Modals -->
          <div class="modal fade" id="incidenceRateModal" tabindex="-1" aria-labelledby="incidenceRateLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="incidenceRateLabel">Incidence rate</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Number of positive tests for 100,000 habitants in one week. Calculation: (100000*number of positive tests)/population. <br>
                  Indicates the level of epidemiological activity.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="modal fade" id="R0Modal" tabindex="-1" aria-labelledby="R0Label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="R0Label">R0</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Reproduction factor. <br>
                  Number of persons contaminated by one patient.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="modal fade" id="ruOccupationRateModal" tabindex="-1" aria-labelledby="ruOccupationRateModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="ruOccupationRateModalLabel">Resuscitation units occupation rate</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Number of resuscitation beds occupied by COVID patients on the initial total number of resuscitation beds available.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="modal fade" id="positivityRateModal" tabindex="-1" aria-labelledby="positivityRateLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="positivityRateLabel">Tests positivity rate</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Pourcentage of positive tests in one week. Calculation: (100*number of positive tests)/number of conducted tests.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Graphs -->
        <div class="container-fluid-mr-3" id="report" style="width: auto; height: 70vh;">
          <div class="d-flex justify-content-center mt-4">
            <div class="spinner-border" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
        <div class="container-fluid-mr-3" id="cumulative" style="width: auto; height: 70vh;">
        </div>
      </main>
    </div>
    
    <!-- Scipts Fetching -->
    <script src="app.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="static-dashboard.js"></script>
  </body>
</html>
